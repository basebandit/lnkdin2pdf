# Lnkdin2pdf

Convert public LinkedIn posts (including text and images) to clean, high-quality PDF documents using Playwright and WeasyPrint.

---

## ğŸ“ Project Structure

```bash
.
â”œâ”€â”€ main.py
â”œâ”€â”€ pdf
â”‚   â””â”€â”€ generator.py            # HTML rendering and PDF generation
â”œâ”€â”€ pyproject.toml              # Project dependencies (managed with uv)
â”œâ”€â”€ README.md
â”œâ”€â”€ scraper
â”‚   â””â”€â”€ linkedin_scraper.py     # Playwright-based LinkedIn scraper
â”œâ”€â”€ templates
â”‚   â””â”€â”€ post_template.html      # Jinja2 template for post content
â”œâ”€â”€ utils
â”‚   â””â”€â”€ validators.py           # URL validation and cleaning
â”œâ”€â”€ Makefile                    # Setup automation and tooling
â”œâ”€â”€ LICENSE
â””â”€â”€ uv.lock                     # Lock file generated by uv
```

---

## ğŸ§© Requirements

- Python **3.12+**
- [Playwright](https://playwright.dev/python/docs/intro)
- [uv](https://github.com/astral-sh/uv) (for dependency management)

<details>
<summary><strong>ğŸ“¦ Native Dependencies (required for WeasyPrint)</strong></summary>

WeasyPrint requires a few system libraries that must be installed separately:

âœ… macOS (Intel / Apple Silicon)
```bash
brew install cairo pango gdk-pixbuf libffi glib
```
and set this env variable for weasyport to work 
```bash
export DYLD_FALLBACK_LIBRARY_PATH=/opt/homebrew/lib:$DYLD_FALLBACK_LIBRARY_PATH
```

âœ… Ubuntu / Debian
```bash
sudo apt install libcairo2 libpango-1.0-0 libgdk-pixbuf2.0-0 libffi-dev
```

âœ… Windows  
Follow the official guide: [WeasyPrint Windows Installation](https://doc.courtbouillon.org/weasyprint/stable/first_steps.html#windows)
</details>

---

## ğŸš€ Installation

### 1. Clone the repo

```bash
git clone https://github.com/basebandit/linkedin-to-pdf.git
cd linkedin-to-pdf
```

### 2. Setup local environment

This project uses [**uv**](https://github.com/astral-sh/uv) for fast and reliable dependency management and a `Makefile` to simplify setup.

```bash
make setup-dev-env
```

This will:
- Sync all dev and main dependencies
- Install pre-commit hooks (linting, formatting, commit message validation)

---

### 3. Install Playwright browsers (first-time only)

```bash
uv run playwright install chromium
```

---

## ğŸ› ï¸ Usage

### Convert a single post

```bash
uv run main.py --url https://www.linkedin.com/posts/activity-1234567890123456789
```

### Convert from a file (CSV or TXT)

```bash
uv run main.py --file urls.txt 
```

> File should contain one URL per line (in .txt) or first column only (in .csv)

### Enable debug mode (opens browser, useful for troubleshooting)

```bash
uv run main.py --url https://www.linkedin.com/posts/... --debug
```

---

## ğŸ§ª Features  
âœ… Extracts LinkedIn post text  
âœ… Downloads and embeds post images  
âœ… Removes LinkedIn tracking/query params  
âœ… Generates clean, readable PDFs  
âœ… Supports batch conversion via file  
âœ… Debug mode for scraping visibility  

---

## ğŸ“ Notes  
Only public LinkedIn posts are supported.  

`output/` contains all generated PDFs and downloaded image assets.  

If scraping fails, a debug HTML or screenshot may be saved to `output/`.

---

## ğŸ“„ License  
This project is licensed under the [MIT License](./LICENSE) â€“ see the LICENSE file for details.
