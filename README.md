# Lnkdin2pdf

Convert public LinkedIn posts (including text and images) to clean, high-quality PDF documents using Playwright and WeasyPrint.

---

## 📁 Project Structure

```bash
.
├── main.py
├── pdf
│   └── generator.py            # HTML rendering and PDF generation
├── pyproject.toml              # Project dependencies (managed with uv)
├── README.md
├── scraper
│   └── linkedin_scraper.py     # Playwright-based LinkedIn scraper
├── templates
│   └── post_template.html      # Jinja2 template for post content
├── utils
│   └── validators.py           # URL validation and cleaning
├── Makefile                    # Setup automation and tooling
├── LICENSE
└── uv.lock                     # Lock file generated by uv
```

---

## 🧩 Requirements

- Python **3.12+**
- [Playwright](https://playwright.dev/python/docs/intro)
- [uv](https://github.com/astral-sh/uv) (for dependency management)

<details>
<summary><strong>📦 Native Dependencies (required for WeasyPrint)</strong></summary>

WeasyPrint requires a few system libraries that must be installed separately:

✅ macOS (Intel / Apple Silicon)
```bash
brew install cairo pango gdk-pixbuf libffi glib
```
and set this env variable for weasyport to work 
```bash
export DYLD_FALLBACK_LIBRARY_PATH=/opt/homebrew/lib:$DYLD_FALLBACK_LIBRARY_PATH
```

✅ Ubuntu / Debian
```bash
sudo apt install libcairo2 libpango-1.0-0 libgdk-pixbuf2.0-0 libffi-dev
```

✅ Windows  
Follow the official guide: [WeasyPrint Windows Installation](https://doc.courtbouillon.org/weasyprint/stable/first_steps.html#windows)
</details>

---

## 🚀 Installation

### 1. Clone the repo

```bash
git clone https://github.com/basebandit/linkedin-to-pdf.git
cd linkedin-to-pdf
```

### 2. Setup local environment

This project uses [**uv**](https://github.com/astral-sh/uv) for fast and reliable dependency management and a `Makefile` to simplify setup.

```bash
make setup-dev-env
```

This will:
- Sync all dev and main dependencies
- Install pre-commit hooks (linting, formatting, commit message validation)

---

### 3. Install Playwright browsers (first-time only)

```bash
uv run playwright install chromium
```

---

## 🛠️ Usage

### Convert a single post

```bash
uv run main.py --url https://www.linkedin.com/posts/activity-1234567890123456789
```

### Convert from a file (CSV or TXT)

```bash
uv run main.py --file urls.txt 
```

> File should contain one URL per line (in .txt) or first column only (in .csv)

### Enable debug mode (opens browser, useful for troubleshooting)

```bash
uv run main.py --url https://www.linkedin.com/posts/... --debug
```

---

## 🧪 Features  
✅ Extracts LinkedIn post text  
✅ Downloads and embeds post images  
✅ Removes LinkedIn tracking/query params  
✅ Generates clean, readable PDFs  
✅ Supports batch conversion via file  
✅ Debug mode for scraping visibility  

---

## 📝 Notes  
Only public LinkedIn posts are supported.  

`output/` contains all generated PDFs and downloaded image assets.  

If scraping fails, a debug HTML or screenshot may be saved to `output/`.

---

## 📄 License  
This project is licensed under the [MIT License](./LICENSE) – see the LICENSE file for details.
